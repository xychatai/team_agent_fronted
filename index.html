<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>团队邀请系统 - 用户端</title>
    <link href="https://cdn.jsdelivr.net/npm/element-plus@2.3.7/dist/index.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div id="app">
        <div class="header">
            <h1>团队邀请系统</h1>
            <p>超越想象，GPT-5 Plus为你的设计修图增添无限灵感！</p>
        </div>
        
        <div class="container">
            <el-tabs v-model="activeTab" class="tabs-container" @tab-change="handleTabChange">
                <!-- 兑换码兑换 -->
                <el-tab-pane name="redeem">
                    <template #label>
                        <div class="tab-label">
                            <el-icon><CreditCard /></el-icon>
                            <span>兑换</span>
                        </div>
                    </template>
                    <div class="tab-content">
                        <div class="feature-card redeem-card">
                            <div class="card-header">
                                <div class="card-icon redeem-icon">
                                    <el-icon size="28"><CreditCard /></el-icon>
                                </div>
                                <div class="card-title">兑换码使用</div>
                                <div class="card-desc">超越想象，GPT-5 Plus为你的设计修图增添无限灵感！</div>
                            </div>
                            <div class="card-body">
                                <el-form :model="redeemForm" :rules="redeemRules" ref="redeemFormRef" size="large">
                                    <el-form-item prop="code">
                                        <el-input 
                                            v-model="redeemForm.code" 
                                            placeholder="请输入您的兑换码"
                                            class="input-field"
                                            clearable>
                                            <template #prefix>
                                                <el-icon><Ticket /></el-icon>
                                            </template>
                                        </el-input>
                                    </el-form-item>
                                    <el-form-item prop="email">
                                        <el-input 
                                            v-model="redeemForm.email" 
                                            placeholder="请输入您的邮箱地址"
                                            class="input-field"
                                            clearable>
                                            <template #prefix>
                                                <el-icon><User /></el-icon>
                                            </template>
                                        </el-input>
                                    </el-form-item>
                                    <el-form-item>
                                        <el-button 
                                            type="primary" 
                                            size="large"
                                            class="action-button"
                                            @click="handleRedeem"
                                            :loading="loading.redeem">
                                            <el-icon v-if="!loading.redeem"><Check /></el-icon>
                                            立即兑换
                                        </el-button>
                                    </el-form-item>
                                </el-form>
                                
                                <div v-if="redeemResult" :class="['result-panel', redeemResult.success ? 'success-panel' : 'error-panel']">
                                    <div v-if="redeemResult.success" class="success-content">
                                        <div class="result-icon">
                                            <el-icon size="48" color="#67c23a"><SuccessFilled /></el-icon>
                                        </div>
                                        <div class="result-title">兑换成功！</div>
                                        <div class="result-message" v-text="redeemResult.message"></div>
                                        <div v-if="redeemResult.bind_type === 'warranty'" class="warranty-info">
                                            <el-tag type="warning" size="large">
                                                质保期：<span v-text="redeemResult.warranty_days"></span>天
                                            </el-tag>
                                        </div>
                                        <div class="next-step">
                                            <strong>📧 请检查您的邮箱并接受团队邀请</strong>
                                        </div>
                                    </div>
                                    <div v-else class="error-content">
                                        <div class="result-icon">
                                            <el-icon size="48" color="#f56c6c"><CircleCloseFilled /></el-icon>
                                        </div>
                                        <div class="result-title">兑换失败</div>
                                        <div class="result-message" v-text="redeemResult.error"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </el-tab-pane>
                
                <!-- 批量兑换 -->
                <el-tab-pane name="batch">
                    <template #label>
                        <div class="tab-label">
                            <el-icon><List /></el-icon>
                            <span>批量兑换</span>
                        </div>
                    </template>
                    <div class="tab-content">
                        <div class="feature-card batch-card">
                            <div class="card-header">
                                <div class="card-icon batch-icon">
                                    <el-icon size="28"><List /></el-icon>
                                </div>
                                <div class="card-title">批量兑换码使用</div>
                                <div class="card-desc">一次性处理多个邮箱和兑换码，支持进度跟踪</div>
                            </div>
                            <div class="card-body">
                                <div class="batch-input-section">
                                    <el-row :gutter="20">
                                        <el-col :span="12">
                                            <div class="input-group">
                                                <div class="input-label">
                                                    <el-icon><User /></el-icon>
                                                    <span>邮箱列表（每行一个）</span>
                                                    <span class="count-badge" v-if="batchForm.emailList.length > 0">{{ batchForm.emailList.length }}</span>
                                                </div>
                                                <el-input
                                                    v-model="batchForm.emails"
                                                    type="textarea"
                                                    :rows="8"
                                                    placeholder="请输入邮箱地址，每行一个&#10;例如：&#10;user1@example.com&#10;user2@example.com&#10;user3@example.com"
                                                    class="batch-textarea"
                                                    @input="validateBatchInput">
                                                </el-input>
                                            </div>
                                        </el-col>
                                        <el-col :span="12">
                                            <div class="input-group">
                                                <div class="input-label">
                                                    <el-icon><Ticket /></el-icon>
                                                    <span>兑换码列表（每行一个）</span>
                                                    <span class="count-badge" v-if="batchForm.codeList.length > 0">{{ batchForm.codeList.length }}</span>
                                                </div>
                                                <el-input
                                                    v-model="batchForm.codes"
                                                    type="textarea"
                                                    :rows="8"
                                                    placeholder="请输入兑换码，每行一个&#10;例如：&#10;CODE123456&#10;CODE789012&#10;CODE345678"
                                                    class="batch-textarea"
                                                    @input="validateBatchInput">
                                                </el-input>
                                            </div>
                                        </el-col>
                                    </el-row>
                                </div>
                                
                                <div v-if="batchValidation.message" class="validation-message">
                                    <el-alert 
                                        :type="batchValidation.type" 
                                        :closable="false" 
                                        show-icon>
                                        {{ batchValidation.message }}
                                    </el-alert>
                                </div>
                                
                                <div class="batch-actions">
                                    <el-button 
                                        type="primary" 
                                        size="large"
                                        class="action-button"
                                        @click="handleBatchRedeem"
                                        :disabled="!batchValidation.isValid || loading.batch"
                                        :loading="loading.batch">
                                        <el-icon v-if="!loading.batch"><Checked /></el-icon>
                                        开始批量兑换
                                    </el-button>
                                    <el-button 
                                        v-if="batchProgress.total > 0"
                                        size="large"
                                        @click="clearBatchResults">
                                        <el-icon><Delete /></el-icon>
                                        清空结果
                                    </el-button>
                                </div>
                                
                                <div v-if="batchProgress.total > 0" class="batch-progress-section">
                                    <div class="progress-header">
                                        <h3>处理进度</h3>
                                        <div class="progress-stats">
                                            <el-tag type="info">总计: {{ batchProgress.total }}</el-tag>
                                            <el-tag type="success">成功: {{ batchProgress.success }}</el-tag>
                                            <el-tag type="danger">失败: {{ batchProgress.failed }}</el-tag>
                                            <el-tag type="warning">等待: {{ batchProgress.pending }}</el-tag>
                                        </div>
                                    </div>
                                    
                                    <el-progress 
                                        :percentage="batchProgress.percentage" 
                                        :status="batchProgress.percentage === 100 ? 'success' : undefined"
                                        :stroke-width="8"
                                        class="batch-progress-bar">
                                    </el-progress>
                                    
                                    <div class="batch-results">
                                        <div v-for="(result, index) in batchResults" :key="index" class="result-item">
                                            <div class="result-info">
                                                <span class="result-index">{{ index + 1 }}.</span>
                                                <span class="result-email">{{ result.email }}</span>
                                                <span class="result-code">{{ result.code }}</span>
                                            </div>
                                            <div class="result-status">
                                                <el-tag 
                                                    :type="result.status === 'success' ? 'success' : result.status === 'failed' ? 'danger' : 'info'"
                                                    :class="result.status">
                                                    <el-icon v-if="result.status === 'success'"><SuccessFilled /></el-icon>
                                                    <el-icon v-else-if="result.status === 'failed'"><CircleCloseFilled /></el-icon>
                                                    <el-icon v-else-if="result.status === 'processing'"><Loading /></el-icon>
                                                    <el-icon v-else><Clock /></el-icon>
                                                    {{ result.statusText }}
                                                </el-tag>
                                            </div>
                                            <div v-if="result.message" class="result-message">
                                                {{ result.message }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </el-tab-pane>
                
                <!-- 团队清理 -->
                <el-tab-pane name="cleanup">
                    <template #label>
                        <div class="tab-label">
                            <el-icon><Delete /></el-icon>
                            <span>团队清理</span>
                        </div>
                    </template>
                    <div class="tab-content">
                        <div class="feature-card cleanup-card">
                            <div class="card-header">
                                <div class="card-icon cleanup-icon">
                                    <el-icon size="28"><Delete /></el-icon>
                                </div>
                                <div class="card-title">团队成员清理</div>
                                <div class="card-desc">清理母号团队中的非用户成员，保护已绑定用户</div>
                            </div>
                            <div class="card-body">
                                <el-form :model="cleanupForm" :rules="cleanupRules" ref="cleanupFormRef" size="large">
                                    <el-form-item prop="code">
                                        <el-input 
                                            v-model="cleanupForm.code" 
                                            placeholder="请输入您的兑换码"
                                            class="input-field"
                                            clearable>
                                            <template #prefix>
                                                <el-icon><Ticket /></el-icon>
                                            </template>
                                        </el-input>
                                    </el-form-item>
                                    <el-form-item>
                                        <el-button 
                                            type="warning" 
                                            size="large"
                                            class="action-button"
                                            @click="handleCleanupPreview"
                                            :loading="loading.cleanupPreview">
                                            <el-icon v-if="!loading.cleanupPreview"><View /></el-icon>
                                            预览清理结果
                                        </el-button>
                                    </el-form-item>
                                </el-form>
                                
                                <div v-if="cleanupPreviewResult" class="cleanup-preview-panel">
                                    <div v-if="cleanupPreviewResult.success" class="preview-content">
                                        <div class="preview-header">
                                            <div class="preview-icon">
                                                <el-icon size="48" color="#e6a23c"><InfoFilled /></el-icon>
                                            </div>
                                            <div class="preview-title">清理预览结果</div>
                                            <div class="preview-subtitle">母号：{{ cleanupPreviewResult.mother_email }}</div>
                                        </div>
                                        
                                        <div class="cleanup-stats">
                                            <div class="stat-card total-card">
                                                <div class="stat-number">{{ cleanupPreviewResult.total_members }}</div>
                                                <div class="stat-label">总成员数</div>
                                            </div>
                                            <div class="stat-card delete-card">
                                                <div class="stat-number">{{ cleanupPreviewResult.will_delete_count }}</div>
                                                <div class="stat-label">将删除</div>
                                            </div>
                                            <div class="stat-card keep-card">
                                                <div class="stat-number">{{ cleanupPreviewResult.will_keep_count }}</div>
                                                <div class="stat-label">将保留</div>
                                            </div>
                                        </div>
                                        
                                        <div class="members-lists">
                                            <div class="members-section will-delete">
                                                <h4>将删除的成员 ({{ cleanupPreviewResult.will_delete_count }}个)</h4>
                                                <div v-if="cleanupPreviewResult.will_delete.length > 0" class="member-list">
                                                    <div v-for="email in cleanupPreviewResult.will_delete" :key="email" class="member-item delete-item">
                                                        <el-icon><Close /></el-icon>
                                                        <span>{{ email }}</span>
                                                    </div>
                                                </div>
                                                <div v-else class="empty-list">无需删除的成员</div>
                                            </div>
                                            
                                            <div class="members-section will-keep">
                                                <h4>将保留的成员 ({{ cleanupPreviewResult.will_keep_count }}个)</h4>
                                                <div v-if="cleanupPreviewResult.will_keep.length > 0" class="member-list">
                                                    <div v-for="email in cleanupPreviewResult.will_keep" :key="email" class="member-item keep-item">
                                                        <el-icon><Check /></el-icon>
                                                        <span>{{ email }}</span>
                                                    </div>
                                                </div>
                                                <div v-else class="empty-list">无保留成员</div>
                                            </div>
                                        </div>
                                        
                                        <div class="cleanup-actions">
                                            <el-button 
                                                type="danger" 
                                                size="large"
                                                class="execute-button"
                                                @click="handleCleanupExecute"
                                                :loading="loading.cleanupExecute">
                                                <el-icon v-if="!loading.cleanupExecute"><Delete /></el-icon>
                                                确认执行清理
                                            </el-button>
                                            <div class="warning-text">
                                                <el-alert 
                                                    type="warning" 
                                                    :closable="false"
                                                    show-icon>
                                                    ⚠️ 此操作不可撤销，请仔细确认清理范围
                                                </el-alert>
                                            </div>
                                        </div>
                                    </div>
                                    <div v-else class="error-content">
                                        <div class="result-icon">
                                            <el-icon size="48" color="#f56c6c"><CircleCloseFilled /></el-icon>
                                        </div>
                                        <div class="result-title">预览失败</div>
                                        <div class="result-message" v-text="cleanupPreviewResult.error"></div>
                                    </div>
                                </div>
                                
                                <div v-if="cleanupExecuteResult" :class="['result-panel', cleanupExecuteResult.success ? 'success-panel' : 'error-panel']">
                                    <div v-if="cleanupExecuteResult.success" class="success-content">
                                        <div class="result-icon">
                                            <el-icon size="48" color="#67c23a"><SuccessFilled /></el-icon>
                                        </div>
                                        <div class="result-title">清理完成！</div>
                                        <div class="cleanup-summary">
                                            <div class="summary-stats">
                                                <div class="summary-item">
                                                    <span class="label">删除成功：</span>
                                                    <span class="value success">{{ cleanupExecuteResult.deleted_count }}个</span>
                                                </div>
                                                <div class="summary-item" v-if="cleanupExecuteResult.failed_count > 0">
                                                    <span class="label">删除失败：</span>
                                                    <span class="value failed">{{ cleanupExecuteResult.failed_count }}个</span>
                                                </div>
                                            </div>
                                            
                                            <div v-if="cleanupExecuteResult.deleted_emails.length > 0" class="deleted-list">
                                                <h5>已删除的成员：</h5>
                                                <div class="email-list">
                                                    <div v-for="email in cleanupExecuteResult.deleted_emails" :key="email" class="email-item deleted">
                                                        <el-icon><Check /></el-icon>
                                                        <span>{{ email }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div v-if="cleanupExecuteResult.failed_deletions && cleanupExecuteResult.failed_deletions.length > 0" class="failed-list">
                                                <h5>删除失败的成员：</h5>
                                                <div class="failed-items">
                                                    <div v-for="failure in cleanupExecuteResult.failed_deletions" :key="failure.email" class="failed-item">
                                                        <div class="failed-email">{{ failure.email }}</div>
                                                        <div class="failed-reason">{{ failure.error }}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div v-else class="error-content">
                                        <div class="result-icon">
                                            <el-icon size="48" color="#f56c6c"><CircleCloseFilled /></el-icon>
                                        </div>
                                        <div class="result-title">清理失败</div>
                                        <div class="result-message" v-text="cleanupExecuteResult.error"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </el-tab-pane>
                
                <!-- 解绑功能 -->
                <el-tab-pane name="unbind">
                    <template #label>
                        <div class="tab-label">
                            <el-icon><Connection /></el-icon>
                            <span>解绑</span>
                        </div>
                    </template>
                    <div class="tab-content">
                        <div class="feature-card unbind-card">
                            <div class="card-header">
                                <div class="card-icon unbind-icon">
                                    <el-icon size="28"><Connection /></el-icon>
                                </div>
                                <div class="card-title">解绑管理</div>
                                <div class="card-desc">解绑当前兑换码，释放重复使用资格</div>
                            </div>
                            <div class="card-body">
                                <!-- 切换模式的标签页 -->
                                <el-tabs v-model="unbindMode" type="card" class="unbind-tabs">
                                    <el-tab-pane label="单个解绑" name="single">
                                        <el-form :model="unbindForm" :rules="unbindRules" ref="unbindFormRef" size="large">
                                            <el-form-item prop="email">
                                                <el-input 
                                                    v-model="unbindForm.email" 
                                                    placeholder="请输入您的邮箱地址"
                                                    class="input-field"
                                                    clearable>
                                                    <template #prefix>
                                                        <el-icon><User /></el-icon>
                                                    </template>
                                                </el-input>
                                            </el-form-item>
                                            <el-form-item>
                                                <el-button 
                                                    type="primary" 
                                                    size="large"
                                                    class="action-button"
                                                    @click="handleCheckStatus"
                                                    :loading="loading.status">
                                                    <el-icon v-if="!loading.status"><View /></el-icon>
                                                    查询绑定状态
                                                </el-button>
                                            </el-form-item>
                                        </el-form>
                                        
                                        <div v-if="statusResult" class="status-panel">
                                            <div class="binding-info">
                                                <el-descriptions :column="1" border size="large">
                                                    <el-descriptions-item label="绑定状态">
                                                        <el-tag :type="statusResult.has_binding ? 'success' : 'info'" size="large">
                                                            <span v-text="statusResult.has_binding ? '已绑定' : '未绑定'"></span>
                                                        </el-tag>
                                                    </el-descriptions-item>
                                                    <el-descriptions-item v-if="statusResult.binding" label="兑换码">
                                                        <code class="code-display" v-text="statusResult.binding.redemption_code"></code>
                                                    </el-descriptions-item>
                                                    <el-descriptions-item v-if="statusResult.binding" label="母号邮箱">
                                                        <span v-text="statusResult.binding.mother_email"></span>
                                                    </el-descriptions-item>
                                                    <el-descriptions-item v-if="statusResult.binding" label="绑定类型">
                                                        <el-tag :type="statusResult.binding.type === 'warranty' ? 'warning' : 'info'" size="large">
                                                            <span v-text="statusResult.binding.type === 'warranty' ? '质保型' : '一次性'"></span>
                                                        </el-tag>
                                                    </el-descriptions-item>
                                                    <el-descriptions-item v-if="statusResult.binding && statusResult.binding.remaining_days !== undefined" label="剩余质保天数">
                                                        <span v-text="statusResult.binding.remaining_days"></span>天
                                                    </el-descriptions-item>
                                                </el-descriptions>
                                                
                                                <div v-if="statusResult.binding && statusResult.binding.status === 'active'" class="unbind-actions">
                                                    <el-button 
                                                        type="danger" 
                                                        size="large"
                                                        class="unbind-button"
                                                        @click="handleUnbind"
                                                        :loading="loading.unbind">
                                                        <el-icon v-if="!loading.unbind"><Minus /></el-icon>
                                                        解绑此兑换码
                                                    </el-button>
                                                    <div class="unbind-tips">
                                                        <el-alert 
                                                            :type="statusResult.binding.type === 'warranty' ? 'success' : 'warning'" 
                                                            :closable="false"
                                                            show-icon>
                                                            <template v-if="statusResult.binding.type === 'warranty'">
                                                                ✅ 质保型卡密解绑后可以重新使用
                                                            </template>
                                                            <template v-else>
                                                                ⚠️ 一次性卡密在母号活跃时可解绑并重新使用，母号封禁时无法解绑
                                                            </template>
                                                        </el-alert>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </el-tab-pane>
                                    
                                    <el-tab-pane label="批量解绑" name="batch">
                                        <div class="batch-unbind-section">
                                            <div class="input-group">
                                                <div class="input-label">
                                                    <el-icon><User /></el-icon>
                                                    <span>邮箱列表（每行一个）</span>
                                                    <span class="count-badge" v-if="batchUnbindForm.emailList.length > 0">{{ batchUnbindForm.emailList.length }}</span>
                                                </div>
                                                <el-input
                                                    v-model="batchUnbindForm.emails"
                                                    type="textarea"
                                                    :rows="6"
                                                    placeholder="请输入要解绑的邮箱地址，每行一个&#10;例如：&#10;user1@example.com&#10;user2@example.com&#10;user3@example.com"
                                                    class="batch-textarea"
                                                    @input="validateBatchUnbindInput">
                                                </el-input>
                                            </div>
                                            
                                            <div v-if="batchUnbindValidation.message" class="validation-message">
                                                <el-alert 
                                                    :type="batchUnbindValidation.type" 
                                                    :closable="false" 
                                                    show-icon>
                                                    {{ batchUnbindValidation.message }}
                                                </el-alert>
                                            </div>
                                            
                                            <div class="batch-actions">
                                                <el-button 
                                                    type="warning" 
                                                    size="large"
                                                    class="action-button"
                                                    @click="handleBatchCheckStatus"
                                                    :disabled="!batchUnbindValidation.isValid || loading.batchUnbindCheck"
                                                    :loading="loading.batchUnbindCheck">
                                                    <el-icon v-if="!loading.batchUnbindCheck"><View /></el-icon>
                                                    批量查询绑定状态
                                                </el-button>
                                                <el-button 
                                                    v-if="batchUnbindResults.length > 0 && batchUnbindResults.some(r => r.canUnbind)"
                                                    type="danger" 
                                                    size="large"
                                                    class="unbind-button"
                                                    @click="handleBatchUnbind"
                                                    :loading="loading.batchUnbind">
                                                    <el-icon v-if="!loading.batchUnbind"><Minus /></el-icon>
                                                    批量解绑所有可解绑项
                                                </el-button>
                                                <el-button 
                                                    v-if="batchUnbindProgress.total > 0"
                                                    size="large"
                                                    @click="clearBatchUnbindResults">
                                                    <el-icon><Delete /></el-icon>
                                                    清空结果
                                                </el-button>
                                            </div>
                                            
                                            <div v-if="batchUnbindProgress.total > 0" class="batch-progress-section">
                                                <div class="progress-header">
                                                    <h3>处理进度</h3>
                                                    <div class="progress-stats">
                                                        <el-tag type="info">总计: {{ batchUnbindProgress.total }}</el-tag>
                                                        <el-tag type="success">成功: {{ batchUnbindProgress.success }}</el-tag>
                                                        <el-tag type="danger">失败: {{ batchUnbindProgress.failed }}</el-tag>
                                                        <el-tag type="warning">等待: {{ batchUnbindProgress.pending }}</el-tag>
                                                    </div>
                                                </div>
                                                
                                                <el-progress 
                                                    :percentage="batchUnbindProgress.percentage" 
                                                    :status="batchUnbindProgress.percentage === 100 ? 'success' : undefined"
                                                    :stroke-width="8"
                                                    class="batch-progress-bar">
                                                </el-progress>
                                                
                                                <div class="batch-results">
                                                    <div v-for="(result, index) in batchUnbindResults" :key="index" class="result-item unbind-result-item">
                                                        <div class="result-info">
                                                            <span class="result-index">{{ index + 1 }}.</span>
                                                            <span class="result-email">{{ result.email }}</span>
                                                            <span v-if="result.binding" class="result-code">{{ result.binding.redemption_code }}</span>
                                                        </div>
                                                        <div class="result-status">
                                                            <el-tag 
                                                                :type="getUnbindResultTagType(result)"
                                                                :class="result.status">
                                                                <el-icon v-if="result.status === 'success'"><SuccessFilled /></el-icon>
                                                                <el-icon v-else-if="result.status === 'failed'"><CircleCloseFilled /></el-icon>
                                                                <el-icon v-else-if="result.status === 'processing'"><Loading /></el-icon>
                                                                <el-icon v-else><Clock /></el-icon>
                                                                {{ result.statusText }}
                                                            </el-tag>
                                                        </div>
                                                        <div v-if="result.binding && result.status === 'checked'" class="binding-details">
                                                            <div class="binding-summary">
                                                                <el-tag :type="result.binding.type === 'warranty' ? 'warning' : 'info'" size="small">
                                                                    {{ result.binding.type === 'warranty' ? '质保型' : '一次性' }}
                                                                </el-tag>
                                                                <span class="mother-email">{{ result.binding.mother_email }}</span>
                                                            </div>
                                                        </div>
                                                        <div v-if="result.message" class="result-message">
                                                            {{ result.message }}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </el-tab-pane>
                                </el-tabs>
                            </div>
                        </div>
                    </div>
                </el-tab-pane>
                
                <!-- 使用说明 -->
                <el-tab-pane name="help">
                    <template #label>
                        <div class="tab-label">
                            <el-icon><InfoFilled /></el-icon>
                            <span>使用说明</span>
                        </div>
                    </template>
                    <div class="tab-content">
                        <div class="feature-card help-card">
                            <div class="card-header">
                                <div class="card-icon help-icon">
                                    <el-icon size="28"><InfoFilled /></el-icon>
                                </div>
                                <div class="card-title">使用说明</div>
                                <div class="card-desc">了解如何使用团队邀请系统</div>
                            </div>
                            <div class="card-body">
                                <div v-if="loading.help" class="loading-help">
                                    <el-skeleton :rows="8" animated />
                                </div>
                                <div v-else-if="helpContent && helpContent.length > 0" class="help-content" v-html="helpContent"></div>
                                <div v-else class="default-help">
                                    <el-alert 
                                        type="info" 
                                        :closable="false"
                                        style="margin-bottom: 20px;">
                                        <template #default>
                                            <strong>提示：</strong>正在显示默认使用说明。管理员可在后台上传自定义帮助文档。
                                        </template>
                                    </el-alert>
                                    <div class="help-section">
                                        <h3>🎫 什么是兑换码？</h3>
                                        <p>兑换码是您加入ChatGPT团队的通行证，每个兑换码对应一个团队席位。</p>
                                    </div>
                                    <div class="help-section">
                                        <h3>🔄 解绑功能说明</h3>
                                        <p><strong>质保型卡密：</strong>解绑后可以重新使用，适合需要更换邮箱的用户。</p>
                                        <p><strong>一次性卡密：</strong>仅在母号活跃时可解绑重用，母号封禁后无法解绑。</p>
                                    </div>
                                    <div class="help-section">
                                        <h3>🛡️ 质保服务</h3>
                                        <p>质保型卡密提供质保期保障，母号失效时可申请免费替换，确保您的团队访问权限。</p>
                                    </div>
                                    <div class="help-section">
                                        <h3>📧 使用流程</h3>
                                        <ol>
                                            <li>在"兑换"页面输入兑换码和邮箱</li>
                                            <li>等待系统发送团队邀请邮件</li>
                                            <li>查收邮箱并接受团队邀请</li>
                                            <li>开始使用ChatGPT团队功能</li>
                                        </ol>
                                    </div>
                                    <div class="help-section">
                                        <h3>❓ 常见问题</h3>
                                        <p><strong>Q: 没收到邀请邮件怎么办？</strong><br>
                                        A: 请检查垃圾邮箱，或联系客服重新发送邀请。</p>
                                        <p><strong>Q: 可以更换邮箱吗？</strong><br>
                                        A: 质保型卡密支持解绑重用，一次性卡密需母号活跃才能解绑。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </el-tab-pane>
            </el-tabs>
        </div>
    </div>

    <!-- 依赖脚本 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.3.4/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/element-plus@2.3.7/dist/index.full.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/element-plus@2.3.7/dist/locale/zh-cn.js"></script>
    
    <!-- 配置文件 -->
    <script src="config/api-config.js"></script>
    
    <!-- 应用脚本 -->
    <script src="assets/js/api.js"></script>
    <script src="assets/js/main.js"></script>
    
</body>
</html>